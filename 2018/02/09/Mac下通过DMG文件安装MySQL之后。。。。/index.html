<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css" />


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT" />










<meta name="description" content="Mac下通过DMG文件安装MySQL 之后。。。。你可能会遇到这两个头疼的提示： error1Unable to connect to host 127.0.0.1 because access was denied.  Double-check your username and password and ensure that access from your current location">
<meta property="og:type" content="article">
<meta property="og:title" content="Mac下通过DMG文件安装MySQL之后。。。。">
<meta property="og:url" content="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/index.html">
<meta property="og:site_name" content="Code&#39;s punchline">
<meta property="og:description" content="Mac下通过DMG文件安装MySQL 之后。。。。你可能会遇到这两个头疼的提示： error1Unable to connect to host 127.0.0.1 because access was denied.  Double-check your username and password and ensure that access from your current location">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/img/15181497369230.jpg">
<meta property="og:image" content="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/media/15181480218838/15181502168075.jpg">
<meta property="og:image" content="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/media/15181480218838/15181502312933.jpg">
<meta property="og:image" content="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/media/15181480218838/15181501037645.jpg">
<meta property="og:image" content="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/media/15181480218838/15181506934906.jpg">
<meta property="og:image" content="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/media/15181480218838/15181509243398.jpg">
<meta property="og:image" content="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/media/15181480218838/15181509839110.jpg">
<meta property="og:image" content="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/media/15181480218838/15181515990661.jpg">
<meta property="og:image" content="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/media/15181480218838/15181521852325.jpg">
<meta property="og:image" content="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/media/15181480218838/15181522436226.jpg">
<meta property="og:image" content="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/media/15181480218838/15181522593218.jpg">
<meta property="og:updated_time" content="2018-06-22T09:33:44.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Mac下通过DMG文件安装MySQL之后。。。。">
<meta name="twitter:description" content="Mac下通过DMG文件安装MySQL 之后。。。。你可能会遇到这两个头疼的提示： error1Unable to connect to host 127.0.0.1 because access was denied.  Double-check your username and password and ensure that access from your current location">
<meta name="twitter:image" content="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/img/15181497369230.jpg">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/"/>





  <title>Mac下通过DMG文件安装MySQL之后。。。。 | Code's punchline</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Code's punchline</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2018/02/09/Mac下通过DMG文件安装MySQL之后。。。。/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Vayne Yao">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Code's punchline">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Mac下通过DMG文件安装MySQL之后。。。。</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2018-02-09T11:47:01+08:00">
                2018-02-09
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h1 id="Mac下通过DMG文件安装MySQL-之后。。。。"><a href="#Mac下通过DMG文件安装MySQL-之后。。。。" class="headerlink" title="Mac下通过DMG文件安装MySQL 之后。。。。"></a>Mac下通过DMG文件安装MySQL 之后。。。。</h1><p>你可能会遇到这两个头疼的提示：</p>
<h6 id="error1"><a href="#error1" class="headerlink" title="error1"></a>error1</h6><pre><code>Unable to connect to host 127.0.0.1 because access was denied.

Double-check your username and password and ensure that access from your current location is permitted.

MySQL said: Access denied for user &apos;root&apos;@&apos;localhost&apos; (using password: YES)
</code></pre><h6 id="error2"><a href="#error2" class="headerlink" title="error2"></a>error2</h6><pre><code>Unable to connect to host 127.0.0.1, or the request timed out.

Be sure that the address is correct and that you have the necessary privileges, or try increasing the connection timeout (currently 10 seconds).

MySQL said: Your password has expired. To log in you must change it using a client that supports expired passwords.
</code></pre><p>不是每个人都会碰到这个问题，但是我确实都碰到了，这里面坑也比较多，独立解决这些问题，也是对你本身基础知识的一次检查，所以我更倾向于大家先独立排查，如果还是没解决再来看下文。另外说一句，如果你是在laravel官方推荐的Homestead环境中的话，可能不会碰到这几个问题。但是我是一个比较爱折腾的人，特别喜欢debug，特别喜欢在命令行里敲东西，所以也顺便解决了这个问题，给大家分享一下。</p>
<p>首先，我们来重现一下从安装MySQL开始的整个过程。</p>
<p>1、在mysql官网下载MySQL的dmg安装包：<a href="https://dev.mysql.com/downloads/mysql/" target="_blank" rel="noopener">https://dev.mysql.com/downloads/mysql/</a></p>
<p>2、dmg文件下载好之后，双击安装，注意到最后一步的时候，会弹出一个提示框：</p>
<p><img src="img/15181497369230.jpg" alt=""><br>root@localhost 后面的W:ivGGB5lrdS 这个是MySQL安装时给你的初始密码，这个很重要，一定要记下来。</p>
<p>3、启动MySQL：<br>进入Mac的<em>系统偏好设置</em></p>
<p><img src="media/15181480218838/15181502168075.jpg" alt=""></p>
<p><img src="media/15181480218838/15181502312933.jpg" alt=""></p>
<p>4、启好MySQL之后，我选择了<a href="http://www.sequelpro.com/download" target="_blank" rel="noopener">Sequel pro</a>这个软件来操作数据库。<br>    <img src="media/15181480218838/15181501037645.jpg" alt=""></p>
<p>这时候，就会出现之前的两个错误，<br>其中前文提到的<em>error1</em>的意思是你的MySQL 账号密码有错，我一开始在laravel项目的.env文件中设置好了数据库相关的配置，所以直接输入的是.env文件中的配置，然后就会提示</p>
<pre><code>Unable to connect to host 127.0.0.1 because access was denied.

Double-check your username and password and ensure that access from your current location is permitted.

MySQL said: Access denied for user &apos;root&apos;@&apos;localhost&apos; (using password: YES)
</code></pre><p>另外<em>error2</em>的错误中，错误提示的字面意思是：<br>password has expired，其实意思是你不可以用刚才安装好MySQL的初始密码登录，你需要在重置你的MySQL密码，然后用新密码来登录root账户，接下来我们来解决这个问题。</p>
<p>首先在命令行模式下输入MySQL</p>
<p><img src="media/15181480218838/15181506934906.jpg" alt=""></p>
<p>不出意外的话，你会看到一个提示</p>
<pre><code>mysql command not found 
</code></pre><p>这是因为我们是通过dmg文件包的形式安装的MySQL，系统不知道MySQL这个东西，我们需要在bash文件中加入MySQL路径（我的命令行工具使用的是zsh,每个人用的不一样，但是思路是一样的，就是在bash文件中加入MySQL路径）<br>先打开bash文件，然后添加MySQL路径。<br><img src="media/15181480218838/15181509243398.jpg" alt=""></p>
<p>在打开的文件中输入下面这行命令，保存后退出即可在命令行中使用MySQL命令。</p>
<pre><code>export PATH=$PATH:/usr/local/mysql/bin
</code></pre><p><img src="media/15181480218838/15181509839110.jpg" alt=""></p>
<p>之后，我们需要重置MySQL root 账户的密码，在命令行中输入</p>
<pre><code>mysql -u root -p
</code></pre><p>然后输入MySQL提供的那个初始密码，如果出现如下提示，说明我们进入了MySQL的设置项</p>
<p><img src="media/15181480218838/15181515990661.jpg" alt=""></p>
<p>这时，我们在    mysql &gt;后面输入</p>
<pre><code>SET PASSWORD FOR &apos;root&apos;@&apos;localhost&apos; = PASSWORD(&apos;你想要设置的root账户的新密码&apos;);
</code></pre><p>当看到<img src="media/15181480218838/15181521852325.jpg" alt=""></p>
<p>就表示重置密码成功，然后我们打开Sequel pro输入root账号和新密码时，就可以使用了。</p>
<p><img src="media/15181480218838/15181522436226.jpg" alt=""></p>
<p><img src="media/15181480218838/15181522593218.jpg" alt=""></p>

      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/02/06/php-基本知识/" rel="next" title="php 基本知识">
                <i class="fa fa-chevron-left"></i> php 基本知识
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2018/02/27/hello-world/" rel="prev" title="Greet">
                Greet <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">Vayne Yao</p>
              <p class="site-description motion-element" itemprop="description">We're not programmers, we're geeks.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives/">
              
                  <span class="site-state-item-count">12</span>
                  <span class="site-state-item-name">日志</span>
                </a>
              </div>
            

            

            
              
              
              <div class="site-state-item site-state-tags">
                
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">标签</span>
                
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Mac下通过DMG文件安装MySQL-之后。。。。"><span class="nav-number">1.</span> <span class="nav-text">Mac下通过DMG文件安装MySQL 之后。。。。</span></a><ol class="nav-child"><li class="nav-item nav-level-6"><a class="nav-link" href="#error1"><span class="nav-number">1.0.0.0.0.1.</span> <span class="nav-text">error1</span></a></li><li class="nav-item nav-level-6"><a class="nav-link" href="#error2"><span class="nav-number">1.0.0.0.0.2.</span> <span class="nav-text">error2</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Vayne Yao</span>

  
</div>


  <div class="powered-by">由 <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a> 强力驱动</div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">主题 &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.4"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.4"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  

  

  
  

  

  

  

</body>
</html>
